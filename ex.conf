server {
	port 3000;
	host 127.0.0.1;
	server_name webserv_3000;

	location / {
		root ./www;
		method GET;
		index index.html;
	}

	location /images {
		root ./www/foo
		index bar.txt
	}

	location /directory {
		root ./YoupiBanane;
		index youpi.bad_extension;
	}

	location /put_test {
		method PUT;
		root ./YoupiBanane/put
	}

	location /cgi_scripts/post.php {
		root .;
		cgi_path ./cgi_scripts/post.php;
		cgi_extension php;
	}

	location /cgi_scripts/test.php {
		root .;
		cgi_path ./cgi_scripts/test.php;
		cgi_extension php;
	}

	location /cgi_scripts/test.py {
		root .;
		cgi_path ./cgi_scripts/test.py;
		cgi_extension py;
	}
}

server {
	port 8010;
	host 127.0.0.1;
	server_name webserv_tester;

	location / {
		root ./www;
		index index.html;
		method GET POST;
		autoindex on;
	}

	location /put_test {
		method PUT;
		root ./YoupiBanane/put_test;
	}

	location /post_body {
		method POST;
		client_body_buffer_size 100;
	}

	location /directory/ {
		method GET;
		root ./YoupiBanane;
		index ./www/index.html;
	}

	location /directory/*.bla {
		method GET POST;
		root ./YoupiBanane/;
		cgi_path testers/cgi_tester;
	}

	location *.bla {
		method POST;
		root ./YoupiBanane/;
		cgi_path testers/cgi_tester;
	}

	location /yandex {
		redirect http://yandex.ru;
	}

	location /py
		method GET;
		root ./python/;
		autoindex on;
		cgi_path igra.py;
		cgi_extension py;
	}
}
